Raphael.fn.pieChart=function(b,c,e,f,r,s){function t(a,g,d,b,c,h){console.log(h.fill);var e=a+d*Math.cos(-b*i),f=a+d*Math.cos(-c*i),j=g+d*Math.sin(-b*i),k=g+d*Math.sin(-c*i);return p.path(["M",a,g,"L",e,j,"A",d,d,0,+(c-b>180),0,f,k,"z"]).attr(h)}var p=this,i=Math.PI/180;this.set();for(var k=this.set(),j=0,q=0,n=0,u=function(a){var g=360*f[a]/q,d=j+g/2,l=Raphael.hsb(n,0.75,1),o=Raphael.hsb(n,1,1),h=t(b,c,e,j,j+g,{fill:"90-"+o+"-"+l,stroke:s,"stroke-width":3}),m=p.text(b+(e+30+55)*Math.cos(-d*i),c+ (e+30+25)*Math.sin(-d*i),r[a]).attr({fill:o,stroke:"none",opacity:0,"font-size":20});h.mouseover(function(){h.stop().animate({transform:"s1.1 1.1 "+b+" "+c},500,"elastic");m.stop().animate({opacity:1},500,"elastic")}).mouseout(function(){h.stop().animate({transform:""},500,"elastic");m.stop().animate({opacity:0},500)});j+=g;k.push(h);k.push(m);n+=0.1},a=0,l=f.length;a<l;a++)q+=f[a];for(a=0;a<l;a++)u(a);return k};jQuery.noConflict(); jQuery(function(){var b=[],c=[];jQuery(".piepieces").each(function(){b.push(parseInt(jQuery("td",this).text(),10));c.push(jQuery("th",this).text())});jQuery("#piechart").hide();Raphael("holder",700,700).pieChart(350,350,200,b,c,"#efefef");var e=[],f=[];jQuery(".piepieces2").each(function(){e.push(parseInt(jQuery("td",this).text(),10));f.push(jQuery("th",this).text())});jQuery("#piehart").hide();Raphael("damnthing",700,700).pieChart(350,350,200,e,f,"#efefef")});