<script type="text/javascript">
var animal_uuid=$("#animal_holder").data("animal_uuid"),animal_id=$("#animal_holder").data("animal_id"),jug=new Juggernaut({secure:!1,host:"juggernaut-hospitium2.herokuapp.com",port:80,transports:["xhr-polling","jsonp-polling"]});
jug.subscribe("/observer/"+animal_uuid,function(a){var c="There was an update, but a problem displaying. Please refresh.";jQuery.each(a.record,function(a,d){if("updated_at"!==a){c=d[1];if(void 0!==$("#best_in_place_animal_"+animal_id+"_"+a).attr("data-collection")){var b=$("#best_in_place_animal_"+animal_id+"_"+a).attr("data-collection"),b=$.parseJSON(b);$.each(b,function(a,b){b[0]==d[1]&&(c=b[1])})}else Date.parse(c)&&(b=new Date(c),b.setDate(b.getDate()+1),c=dateFormat(b,"ddd, mmm d yyyy"));$("#best_in_place_animal_"+
animal_id+"_"+a).css("background-color","#c7f464").html(c).delay(1500).animate({backgroundColor:"#f5f5f5"},1E3)}})});
jug.subscribe("/observer/note/"+animal_id,function(a){var c="";jQuery.each(a.record,function(e,d){$("#animal_notes_list").append('<li id="note_'+d.id+'"><strong>'+a.user+"</strong> "+a.created_at+" <br />"+d.note+"</li>");$("#animal_notes_list").scrollTop($("#animal_notes_list")[0].scrollHeight);$("#note_"+d.id).css("background-color","#c7f464");c="rgb(255, 255, 255)"===$("#note_"+d.id).prev("li").css("background-color")?"#f5f5f5":"#ffffff";$("#note_"+d.id).delay(1500).animate({backgroundColor:c},
1E3)})});$("#animal_weight_date_of_weight").datepicker();$.datepicker.setDefaults({dateFormat:"D, dd M yy"});$(".submit-button").click(function(){var a=$(this).attr("data-form-id");$("#"+a).submit();$(".field_with_errors")[0]||$("#"+a).fadeOut("slow",function(){$("."+a+"_bar").fadeIn("slow")})});
$('a[data-toggle="tab"]').on("shown",function(){if(!$("canvas").length){var a=$("#animal_weights_holder").data("animal_weights");$.jqplot("chart1",[a],{title:"Animal Weight",grid:{background:"#FCF8E3",gridLineColor:"#FBEED5",borderColor:"#DDD",shadow:!1},seriesDefaults:{color:"#49AFCD"},axes:{xaxis:{renderer:$.jqplot.DateAxisRenderer,tickOptions:{formatString:"%b&nbsp;%#d"}},yaxis:{}},highlighter:{show:!0,sizeAdjust:7.5},cursor:{show:!1}})}});
</script>