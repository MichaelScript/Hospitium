<script type="text/javascript">
var jug=new Juggernaut({secure:!1,host:"juggernaut-hospitium2.herokuapp.com",port:80,transports:["xhr-polling","jsonp-polling"]});
jug.subscribe("/observer/<%= animal.uuid %>",function(b){var d="There was an update, but a problem displaying. Please refresh.";jQuery.each(b.record,function(a,b){if("updated_at"!=a){d=b[1];if(void 0!==$("#best_in_place_animal_<%= animal.id %>_"+a).attr("data-collection")){var c=$("#best_in_place_animal_<%= animal.id %>_"+a).attr("data-collection"),c=$.parseJSON(c);$.each(c,function(a,c){c[0]==b[1]&&(d=c[1])})}$("#best_in_place_animal_<%= animal.id %>_"+a).css("background-color","#c7f464");$("#best_in_place_animal_<%= animal.id %>_"+
a).html(d);$("#best_in_place_animal_<%= animal.id %>_"+a).delay(1500).animate({backgroundColor:"#f5f5f5"},1E3)}})});jug=new Juggernaut({secure:!1,host:"juggernaut-hospitium2.herokuapp.com",port:80,transports:["xhr-polling","jsonp-polling"]});
jug.subscribe("/observer/note/<%= animal.id %>",function(b){jQuery.each(b.record,function(d,a){$("#animal_notes_list").append('<li id="note_'+a.id+'"><strong>'+b.user+"</strong> "+b.created_at+" <br />"+a.note+"</li>");$("#animal_notes_list").scrollTop($("#animal_notes_list")[0].scrollHeight);$("#note_"+a.id).css("background-color","#c7f464");var e="rgb(255, 255, 255)"==$("#note_"+a.id).prev("li").css("background-color")?"#f5f5f5":"#ffffff";$("#note_"+a.id).delay(1500).animate({backgroundColor:e},
1E3)})});$("#animal_weight_date_of_weight").datepicker();$.datepicker.setDefaults({dateFormat:"D, dd M yy"});$(".submit-button").click(function(){var b=$(this).attr("data-form-id");$("#"+b).submit();$(".field_with_errors")[0]||$("#"+b).fadeOut("slow",function(){$("."+b+"_bar").fadeIn("slow")})});
$('a[data-toggle="tab"]').on("shown",function(){$("canvas").length||$.jqplot("chart1",[<%= raw(animal_weights.to_json) %>],{title:"Animal Weight",grid:{background:"#FCF8E3",gridLineColor:"#FBEED5",borderColor:"#DDD",shadow:!1},seriesDefaults:{color:"#49AFCD"},axes:{xaxis:{renderer:$.jqplot.DateAxisRenderer,tickOptions:{formatString:"%b&nbsp;%#d"}},yaxis:{}},highlighter:{show:!0,sizeAdjust:7.5},cursor:{show:!1}})});
</script>