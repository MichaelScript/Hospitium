<div class="row-fluid">
	<div class="span12">
		<% if notice.blank? %>

		<% else %>
			<div class="alert alert-info"><a class="close" data-dismiss="alert" href="#">&times;</a> <%= notice %></div>
		<% end %>
		<div class="well">
			<h1>Dashboard</h1>
		</div>
		<div class="row-fluid">
			<div class="span12">
				<h2>Animal Statuses</h2>
				<div id="chart1" style="height: 300px; width: 500px; float:left; " class="jqplot-target"></div>
				<ul class="timelineAnimal">
					<% @final_status_hash['bar'].each do |key, value| %>
						<li class="barAnimal"><a href="#">
							<span class="labelAnimal"><%= key + " count: " + value["count"]%></span>
							<span class="countAnimal tooltip-class" data-animate-length="<%= number_to_percentage(value["percent"], :precision => 0)%>" style="height: 2%;opacity:0;" title="<%= value["count"] %>"><%= value["count"] %></span>
						</a></li>
					<%end%>
				</ul>
				<ul id="chartKey"></ul>
			</div>
		</div>
		<hr />
		<div class="row-fluid">
			<div class="span12">
				<h2>Animal Species</h2>
				<div id="chart2" style="height: 300px; width: 500px; float:left; " class="jqplot-target"></div>
				<ul class="timelineAnimal2">
					<% @final_species_hash['bar'].each do |key, value| %>
						<li class="barAnimal2"><a href="#">
							<span class="labelAnimal2"><%= key + " count: " + value["count"]%></span>
							<span class="countAnimal2 tooltip-class" data-animate-length="<%= number_to_percentage(value["percent"], :precision => 0)%>" style="height: 2%;opacity:0;" title="<%= value["count"] %>"><%= value["count"] %></span>
						</a></li>
					<%end%>
				</ul>
				<ul id="chartKey2"></ul>
			</div>
		</div>
		<hr />
		<div class="row-fluid">
			<div class="span12">
				<h2>Recent Tweets</h2>
				<table class="table table-striped table-bordered">
					<thead>
						<th>User</th>
						<th>Tweet</th>
					</thead>
					<tbody>
						<% @tweets.each do |tweet| %>
							<tr>
								<td><%= tweet.user.name %></td>
								<td><%= tweet.text %></td>
							</tr>
						<%end%>
					</tbody>
				</table>
			</div>
		</div>

		<!-- <ul class="timelineAnimal">
		<li class="barAnimal" data-animate-label="barchart_animal_species_165_43">
		<a href="#">
		<span class="labelAnimal">Campbell's Dwarf Hamster count: 3</span>
		<span class="countAnimal" data-animate-length="6%" style="background-color: rgb(135, 185, 238); height: 6%; opacity: 1; " original-title="3">3</span>
		</a>
		</li>
		<li class="barAnimal" data-animate-label="barchart_animal_species_240_80">
		<a href="#">
		<span class="labelAnimal">Chinchilla count: 4</span>
		<span class="countAnimal" data-animate-length="8%" style="background-color: rgb(2, 241, 5); height: 8%; opacity: 1; " original-title="4">4</span>
		</a>
		</li>
		<li class="barAnimal" data-animate-label="barchart_animal_species_11_52">
		<a href="#">
		<span class="labelAnimal">Chinese Dwarf Hamster count: 0</span>
		<span class="countAnimal" data-animate-length="0%" style="background-color: rgb(206, 1, 213); height: 2%; opacity: 1; " original-title="0">0</span>
		</a>
		</li>
		<li class="barAnimal" data-animate-label="barchart_animal_species_108_133">
		<a href="#">
		<span class="labelAnimal">Degu count: 9</span>
		<span class="countAnimal" data-animate-length="17%" style="background-color: rgb(252, 209, 54); height: 17%; opacity: 1; " original-title="9">9</span>
		</a>
		</li>
		<li class="barAnimal" data-animate-label="barchart_animal_species_156_149">
		<a href="#">
		<span class="labelAnimal">Gerbil count: 2</span>
		<span class="countAnimal" data-animate-length="4%" style="background-color: rgb(11, 23, 86); height: 4%; opacity: 1; " title="2">2</span>
		</a>
		</li>
		<li class="barAnimal" data-animate-label="barchart_animal_species_70_172">
		<a href="#">
		<span class="labelAnimal">Mouse count: 2</span>
		<span class="countAnimal" data-animate-length="4%" style="background-color: rgb(238, 141, 90); height: 4%; opacity: 1; " title="2">2</span>
		</a>
		</li>
		<li class="barAnimal" data-animate-label="barchart_animal_species_1_88">
		<a href="#">
		<span class="labelAnimal">Rat count: 8</span>
		<span class="countAnimal" data-animate-length="15%" style="background-color: rgb(236, 116, 173); height: 15%; opacity: 1; " original-title="8">8</span>
		</a>
		</li>
		<li class="barAnimal" data-animate-label="barchart_animal_species_240_25">
		<a href="#">
		<span class="labelAnimal">Robovorski Dwarf Hamster count: 0</span>
		<span class="countAnimal" data-animate-length="0%" style="background-color: rgb(57, 48, 143); height: 2%; opacity: 1; " title="0">0</span>
		</a>
		</li>
		<li class="barAnimal" data-animate-label="barchart_animal_species_187_77">
		<a href="#">
		<span class="labelAnimal">Sugar Glider count: 7</span>
		<span class="countAnimal" data-animate-length="13%" style="background-color: rgb(217, 49, 49); height: 13%; opacity: 1; " original-title="7">7</span>
		</a>
		</li>
		<li class="barAnimal" data-animate-label="barchart_animal_species_205_60">
		<a href="#">
		<span class="labelAnimal">Syrian Hamster count: 17</span>
		<span class="countAnimal" data-animate-length="33%" style="background-color: rgb(21, 31, 166); height: 33%; opacity: 1; " original-title="17">17</span>
		</a>
		</li>
		<li class="barAnimal" data-animate-label="barchart_animal_species_204_9">
		<a href="#">
		<span class="labelAnimal">Winter White Dwarf Hamster count: 0</span>
		<span class="countAnimal" data-animate-length="0%" style="background-color: rgb(110, 33, 193); height: 2%; opacity: 1; " title="0">0</span>
		</a>
		</li>
		</ul> -->

		<% content_for :javascript_footer do %>
			
			<script>
				$(document).ready(function(){
					var data = <%= raw(@final_status_hash['pie'].to_json) %>;
					var plot1 = jQuery.jqplot ('chart1', [data], { 
						seriesDefaults: {
							// Make this a pie chart.
							renderer: jQuery.jqplot.PieRenderer, 
							rendererOptions: {
								// Put data labels on the pie slices.
								// By default, labels show the percentage of the slice.
								showDataLabels: true
							}
						}, 
						legend: { show:true, location: 'e' }
					}
					);
				});
				
				$(document).ready(function(){
					var data2 = <%= raw(@final_species_hash['pie'].to_json) %>;
					var plot2 = jQuery.jqplot ('chart2', [data2], { 
						seriesDefaults: {
							// Make this a pie chart.
							renderer: jQuery.jqplot.PieRenderer, 
							rendererOptions: {
								// Put data labels on the pie slices.
								// By default, labels show the percentage of the slice.
								showDataLabels: true
							}
						}, 
						legend: { show:true, location: 'e' }
					}
					);
				});
			</script>
		<% end %>
	</div>
</div>